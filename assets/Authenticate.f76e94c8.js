import{G as r}from"./authentication.1fd37fb3.js";import{a as d,d as c,g as l,b as u}from"./authentication.1a10a14e.js";import{d as m,r as _,h as w,c as h,b as y,a as f,F as g,j as b,g as v,e as x,o as C}from"./index.ec02eae6.js";const B=m({__name:"Authenticate",setup(k){const t=b(),a=v(),e=_({password:"",show:!1}),i=()=>{console.log(r),console.log(e.password),console.log("grant_type=authorization_code&redirect_uri=oob&code="+t.query.code+"&client_id="+d()+"&client_secret="+c(l(),e.password)),fetch(r,{method:"POST",mode:"no-cors",headers:{Authorization:"Basic "+u(e.password),"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=authorization_code&redirect_uri=oob&code="+t.query.code+"&client_id="+d()+"&client_secret="+c(l(),e.password)}).then(o=>o.json()).then(o=>console.log(o)).catch(o=>{console.log(o),a.push("/")})};return w(()=>{console.log(t.query.code),t.query.code||a.push("/")}),(o,s)=>{const p=x("v-text-field");return C(),h(g,null,[y(p,{modelValue:e.password,"onUpdate:modelValue":s[0]||(s[0]=n=>e.password=n),"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",name:"password",label:"Password","onClick:append":s[1]||(s[1]=n=>e.show=!e.show),placeholder:"Password",variant:"outlined"},null,8,["modelValue","append-icon","type"]),f("button",{onClick:i},"Submit")],64)}}});export{B as default};
