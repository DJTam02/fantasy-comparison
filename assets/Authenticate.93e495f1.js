import{c as l,V as c}from"./authentication.59782fc9.js";import{d as p,r as i,h as u,c as m,b as h,a as w,F as _,j as f,g as y,e as g,o as v}from"./index.49e799be.js";const C=p({__name:"Authenticate",setup(x){const s=f(),r=y(),t=i({password:"",show:!1}),d=()=>{console.log(s.query.code);var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");var o="grant_type=authorization_code&redirect_uri=oob&code="+s.query.code+"&client_id="+l()+"&code_verifier="+sessionStorage.getItem(c);console.log(o);var n={method:"POST",headers:a,body:o,redirect:"follow"};fetch("https://proxy.cors.sh/https://api.login.yahoo.com/oauth2/get_token",n).then(e=>e.text()).then(e=>console.log(e)).catch(e=>console.log("error",e))};return u(()=>{console.log(s.query.code),s.query.code||r.push("/")}),(a,o)=>{const n=g("v-text-field");return v(),m(_,null,[h(n,{modelValue:t.password,"onUpdate:modelValue":o[0]||(o[0]=e=>t.password=e),"append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",name:"password",label:"Password","onClick:append":o[1]||(o[1]=e=>t.show=!t.show),placeholder:"Password",variant:"outlined"},null,8,["modelValue","append-icon","type"]),w("button",{onClick:d},"Submit")],64)}}});export{C as default};
