import{c,V as l}from"./authentication.59782fc9.js";import{d as p,r as i,h as u,c as m,b as h,a as w,F as _,j as f,g as y,e as g,o as v}from"./index.f451c7cf.js";const C=p({__name:"Authenticate",setup(x){const s=f(),n=y(),o=i({password:"",show:!1}),d=()=>{console.log(s.query.code);var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");var t="grant_type=authorization_code&redirect_uri=oob&code="+s.query.code+"&client_id="+c()+"&code_verifier="+sessionStorage.getItem(l),r={method:"POST",headers:a,body:t,redirect:"follow"};fetch("https://proxy.cors.sh/https://api.login.yahoo.com/oauth2/get_token",r).then(e=>e.text()).then(e=>console.log(e)).catch(e=>console.log("error",e))};return u(()=>{console.log(s.query.code),s.query.code||n.push("/")}),(a,t)=>{const r=g("v-text-field");return v(),m(_,null,[h(r,{modelValue:o.password,"onUpdate:modelValue":t[0]||(t[0]=e=>o.password=e),"append-icon":o.show?"mdi-eye":"mdi-eye-off",type:o.show?"text":"password",name:"password",label:"Password","onClick:append":t[1]||(t[1]=e=>o.show=!o.show),placeholder:"Password",variant:"outlined"},null,8,["modelValue","append-icon","type"]),w("button",{onClick:d},"Submit")],64)}}});export{C as default};
