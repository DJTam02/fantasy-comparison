import{G as i,b as u}from"./authentication.e40a717e.js";import{a as c,d,g as l}from"./authentication.4de03b19.js";import{d as m,r as _,h as y,c as h,b as w,a as g,F as f,j as C,g as b,e as R,o as q}from"./index.24c45e39.js";const S=m({__name:"Authenticate",setup(x){const s=C(),r=b(),e=_({password:"",show:!1}),p=()=>{var t,a;console.log(i),console.log(e.password),console.log("grant_type=authorization_code&redirect_uri=oob&code="+s.query.code+"&client_id="+c()+"&client_secret="+d(l(),e.password));const n={grant_type:"authorization_code",redirect_uri:u,code:(a=(t=s.query.code)==null?void 0:t.toString())!=null?a:"",client_id:c(),client_secret:d(l(),e.password)};console.log(Object.keys(n).map(o=>encodeURIComponent(o)+"="+encodeURIComponent(n[o])).join("&")),fetch("https://q3qcnfhw9c.execute-api.us-east-2.amazonaws.com/Test/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(o=>console.log("resp: ",o)).catch(o=>{console.log(o),r.push("/")})};return y(()=>{console.log(s.query.code),s.query.code||r.push("/")}),(n,t)=>{const a=R("v-text-field");return q(),h(f,null,[w(a,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=o=>e.password=o),"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",name:"password",label:"Password","onClick:append":t[1]||(t[1]=o=>e.show=!e.show),placeholder:"Password",variant:"outlined"},null,8,["modelValue","append-icon","type"]),g("button",{onClick:p},"Submit")],64)}}});export{S as default};
