import{c as l,V as c}from"./authentication.59782fc9.js";import{d as p,r as i,h as u,c as m,b as w,a as h,F as _,j as f,g as y,e as g,o as v}from"./index.17e4deec.js";const C=p({__name:"Authenticate",setup(x){const a=f(),r=y(),o=i({password:"",show:!1}),d=()=>{var s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var t="grant_type=authorization_code&redirect_uri=oob&code="+a.query.code+"&client_id="+l()+"&code_verifier="+sessionStorage.getItem(c),n={method:"POST",headers:s,body:t,redirect:"follow"};fetch("https://api.login.yahoo.com/oauth2/get_token",n).then(e=>e.text()).then(e=>console.log(e)).catch(e=>console.log("error",e))};return u(()=>{console.log(a.query.code),a.query.code||r.push("/")}),(s,t)=>{const n=g("v-text-field");return v(),m(_,null,[w(n,{modelValue:o.password,"onUpdate:modelValue":t[0]||(t[0]=e=>o.password=e),"append-icon":o.show?"mdi-eye":"mdi-eye-off",type:o.show?"text":"password",name:"password",label:"Password","onClick:append":t[1]||(t[1]=e=>o.show=!o.show),placeholder:"Password",variant:"outlined"},null,8,["modelValue","append-icon","type"]),h("button",{onClick:d},"Submit")],64)}}});export{C as default};
