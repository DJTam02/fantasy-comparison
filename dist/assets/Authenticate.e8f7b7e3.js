import{G as r}from"./authentication.1fd37fb3.js";import{a as d,d as c,g as l}from"./authentication.3a490b89.js";import{d as u,r as m,h as _,c as w,b as h,a as y,F as f,j as g,g as b,e as v,o as x}from"./index.4b654b43.js";const T=u({__name:"Authenticate",setup(C){const t=g(),n=b(),e=m({password:"",show:!1}),p=()=>{console.log(r),console.log(e.password),console.log("grant_type=authorization_code&redirect_uri=oob&code="+t.query.code+"&client_id="+d()+"&client_secret="+c(l(),e.password)),fetch(r,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=authorization_code&redirect_uri=oob&code="+t.query.code+"&client_id="+d()+"&client_secret="+c(l(),e.password)}).then(o=>o.json()).then(o=>console.log(o)).catch(o=>{console.log(o),n.push("/")})};return _(()=>{console.log(t.query.code),t.query.code||n.push("/")}),(o,s)=>{const i=v("v-text-field");return x(),w(f,null,[h(i,{modelValue:e.password,"onUpdate:modelValue":s[0]||(s[0]=a=>e.password=a),"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",name:"password",label:"Password","onClick:append":s[1]||(s[1]=a=>e.show=!e.show),placeholder:"Password",variant:"outlined"},null,8,["modelValue","append-icon","type"]),y("button",{onClick:p},"Submit")],64)}}});export{T as default};
